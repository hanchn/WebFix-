## 1. 防抖（Debounce）

### 概念

> **防抖**就是让高频率触发的操作**只在最后一次操作结束后隔一段时间才执行一次**。

### 典型场景

* 用户在搜索框输入，每输入一个字都会触发事件，但我们只想用户停下来不再输入时才发一次请求（减少查询次数，节省资源）。
* 窗口resize/滚动过程中，避免频繁执行耗性能的逻辑。

### 原理

* 事件持续触发时，每次都重置定时器，只有**停止触发N毫秒后才会执行函数**。

### 动画比喻

* 就像你在敲键盘输入，只有你停下来不再输入一段时间，才会去处理结果。

---

## 2. 节流（Throttle）

### 概念

> **节流**就是让高频率触发的操作**在固定时间间隔内只会执行一次**。

### 典型场景

* 监听页面滚动（scroll）事件，每滚动一像素都触发事件会很卡，所以我们规定每200ms才执行一次，比如用来做懒加载、头部吸顶等。
* 高频点击事件，避免1秒钟触发几十次，可以用节流限制为1秒最多触发一次。

### 原理

* 第一次触发后开始计时，**在N毫秒内无论多少次触发都忽略，时间到了才允许再次执行**。

### 动画比喻

* 就像自来水龙头开关，水只能一段一段地流出来，关掉一会再开。

---

## 3. 对比口诀

* **防抖：最后一次** —— 高频操作结束N毫秒后只执行一次（停下来才执行）
* **节流：间隔执行** —— 高频操作每N毫秒最多只执行一次（定时执行）

---

## 4. 简单代码对比（伪代码）

**防抖：**

```js
let timer;
input.oninput = function() {
  clearTimeout(timer);
  timer = setTimeout(doSomething, 500);
}
```

**节流：**

```js
let last = 0;
window.onscroll = function() {
  const now = Date.now();
  if (now - last > 200) {
    doSomething();
    last = now;
  }
}
```

---
